<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cat and Mouse Game</title>
    <style>
        body { display: flex; justify-content: center; align-items: center; height: 100vh; background: #f0f0f0; }
        canvas { background: #fff; border: 2px solid #333; }
    </style>
</head>
<body>
<button id="startBtn" style="position:absolute;top:20px;right:20px;z-index:2;font-size: 1em; padding: 0.4em 0.8em; background: #43a047; color: #fff; border: none; border-radius: 8px;">Start Game</button>
<button id="stopBtn" style="position:absolute;top:20px;left:20px;z-index:2;font-size: 1em; padding: 0.4em 0.8em; background: #e53935; color: #fff; border: none; border-radius: 8px;">Stop Game</button>
<div id="levelDisplay" style="position:absolute;top:20px;left:50%;transform:translateX(-50%);z-index:2;font-size:1.2em;font-weight:bold;color:#333;background:rgba(255,255,255,0.8);padding:0.2em 1em;border-radius:8px;">Level: 1</div>
<div id="gameOverMsg" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.85);color:#fff;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;font-size:3em;font-weight:bold;">
  Game Over
  <button id="restartBtn" style="margin-top:40px;font-size:1em;padding:0.5em 1.5em;background:#43a047;color:#fff;border:none;border-radius:8px;cursor:pointer;">Restart Game</button>
</div>
<canvas id="gameCanvas" width="500" height="500"></canvas>
<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const size = 40;
const corners = [
    {x: 0, y: 0},
    {x: canvas.width - size, y: 0},
    {x: 0, y: canvas.height - size},
    {x: canvas.width - size, y: canvas.height - size}
];
let cat = { x: 230, y: 230, speed: 2 };
let mouse = { x: 100, y: 100 };
let running = false;
let level = 1;
let levelTimer = null;
let baseSpeed = 2;

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.font = '36px serif';
    ctx.fillText('🐱', cat.x, cat.y + size);
    ctx.fillText('🐭', mouse.x, mouse.y + size);
}

function moveCatTowardMouse() {
    let dx = mouse.x - cat.x;
    let dy = mouse.y - cat.y;
    let dist = Math.sqrt(dx * dx + dy * dy);
    if (dist > 1) {
        cat.x += cat.speed * dx / dist;
        cat.y += cat.speed * dy / dist;
    }
    checkCatch();
}

function checkCatch() {
    if (Math.abs(cat.x - mouse.x) < size && Math.abs(cat.y - mouse.y) < size) {
        showGameOver();
    }
}

canvas.addEventListener('mousemove', e => {
    const rect = canvas.getBoundingClientRect();
    mouse.x = Math.max(0, Math.min(canvas.width - size, e.clientX - rect.left));
    mouse.y = Math.max(0, Math.min(canvas.height - size, e.clientY - rect.top));
});

function updateLevelDisplay() {
    document.getElementById('levelDisplay').textContent = `Level: ${level}`;
}

function startLevelTimer() {
    if (levelTimer) clearInterval(levelTimer);
    levelTimer = setInterval(() => {
        if (!running) return;
        level++;
        cat.speed = +(baseSpeed * Math.pow(1.3, level - 1)).toFixed(2);
        updateLevelDisplay();
    }, 3000);
}

function resetGame() {
    level = 1;
    cat.x = 230;
    cat.y = 230;
    cat.speed = baseSpeed;
    updateLevelDisplay();
}

function showGameOver() {
    document.getElementById('gameOverMsg').style.display = 'flex';
    running = false;
    if (levelTimer) clearInterval(levelTimer);
}

function startGame() {
    if (!running) {
        document.getElementById('gameOverMsg').style.display = 'none';
        running = true;
        resetGame();
        startLevelTimer();
        gameLoop();
    }
}

document.getElementById('startBtn').onclick = startGame;
document.getElementById('stopBtn').onclick = function() {
    running = false;
    if (levelTimer) clearInterval(levelTimer);
};
document.getElementById('restartBtn').onclick = function() {
    document.getElementById('gameOverMsg').style.display = 'none';
    startGame();
};

function gameLoop() {
    if (!running) return;
    moveCatTowardMouse();
    draw();
    requestAnimationFrame(gameLoop);
}

draw();
updateLevelDisplay();
</script>
</body>
</html>
